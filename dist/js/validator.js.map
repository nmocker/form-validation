{"version":3,"sources":["validator.js"],"names":["Validator","parameters","event","console","log","isValid","$el","target","classList","add","parentElement","querySelector","innerHTML","options","errorMessage","remove","Object","assign","selector","error","elements","document","querySelectorAll","warn","i","length","addEventListener","touched","evt","validate"],"mappings":";;;;;;;;;;IAAMA,S;AAMJ,qBAAYC,UAAZ,EAAwB;AAAA;;AAAA;;AAAA,qCALd,IAKc;;AAAA,qCAJd,KAIc;;AAAA,qCAFd,EAEc;;AAAA,2CAgDR,UAACC,KAAD,EAAW;AACzBC,MAAAA,OAAO,CAACC,GAAR,CAAY,oCAAZ,EAAkD,KAAI,CAACC,OAAvD;AACA,UAAMC,GAAG,GAAGJ,KAAK,CAACK,MAAlB;;AACA,UAAI,CAAC,KAAI,CAACF,OAAV,EAAmB;AACjBC,QAAAA,GAAG,CAACE,SAAJ,CAAcC,GAAd,CAAkB,SAAlB;AACAH,QAAAA,GAAG,CAACI,aAAJ,CAAkBC,aAAlB,CACE,gBADF,EAEEC,SAFF,GAEc,KAAI,CAACC,OAAL,CAAaC,YAF3B;AAGD,OALD,MAKO;AACLR,QAAAA,GAAG,CAACE,SAAJ,CAAcO,MAAd,CAAqB,SAArB;AACAT,QAAAA,GAAG,CAACI,aAAJ,CAAkBC,aAAlB,CAAgC,gBAAhC,EAAkDC,SAAlD,GAA8D,EAA9D;AACD;AACF,KA5DuB;;AAAA,wCA8DX,YAAM;AACjBT,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACD,KAhEuB;;AACtBD,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BH,UAA3B;AACA,SAAKY,OAAL,GAAeG,MAAM,CAACC,MAAP,CACb,EADa,EAEb;AACEC,MAAAA,QAAQ,EAAE,IADZ;AAEEJ,MAAAA,YAAY,EAAE;AAFhB,KAFa,EAMbb,UANa,CAAf;AAQA,QAAMiB,QAAQ,GAAG,KAAKL,OAAL,CAAaK,QAA9B;;AACA,QAAI,CAACA,QAAL,EAAe;AACbf,MAAAA,OAAO,CAACgB,KAAR,CAAc,8BAAd,EADa,CACkC;AAC/C;AACD;;AAEDhB,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCc,QAAvC;AACA,QAAME,QAAQ,GAAGC,QAAQ,CAACC,gBAAT,CAA0BJ,QAA1B,CAAjB,CAjBsB,CAmBtB;AACA;;AACA,QAAI,CAACE,QAAL,EAAe;AACbjB,MAAAA,OAAO,CAACoB,IAAR,CAAa,+CAAb,EAA8DL,QAA9D;AACA;AACD,KAxBqB,CA0BtB;AACA;AACA;AACA;;;AAEA,SAAK,IAAIM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,QAAQ,CAACK,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACxCJ,MAAAA,QAAQ,CAACI,CAAD,CAAR,CAAYE,gBAAZ,CAA6B,OAA7B,EAAsC,YAAM;AAC1C,QAAA,KAAI,CAACC,OAAL,GAAe,IAAf;AACD,OAFD;AAGAP,MAAAA,QAAQ,CAACI,CAAD,CAAR,CAAYE,gBAAZ,CAA6B,MAA7B,EAAqC,UAACE,GAAD;AAAA,eAAS,KAAI,CAACC,QAAL,CAAcD,GAAd,CAAT;AAAA,OAArC,EAJwC,CAKxC;AACD;AACF;;;;6BAEQ1B,K,EAAO;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACD;;;mCAEcF,K,EAAO;AACpBC,MAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;AACD","sourcesContent":["class Validator {\n  isValid = true;\n  touched = false;\n\n  options = {};\n\n  constructor(parameters) {\n    console.log(\"Validator()\", parameters);\n    this.options = Object.assign(\n      {},\n      {\n        selector: null,\n        errorMessage: \"Invalid value\",\n      },\n      parameters\n    );\n    const selector = this.options.selector;\n    if (!selector) {\n      console.error(\"Must provide a selector key!\"); // this is a soft error, like a slap on the wrist\n      // throw new Error(\"Must provide a selector key!\") // this blows up the whole app\n    }\n\n    console.log(\"setting up listener for\", selector);\n    const elements = document.querySelectorAll(selector);\n\n    // two ways to handle this part\n    // 1: my preferred way\n    if (!elements) {\n      console.warn(\"No elements matching the selector were found!\", selector);\n      return;\n    }\n\n    // 2: but this is fine too, just a little clunkier\n    // if (element) {\n    //     // do the setup here\n    // }\n\n    for (var i = 0; i < elements.length; i++) {\n      elements[i].addEventListener(\"focus\", () => {\n        this.touched = true;\n      });\n      elements[i].addEventListener(\"blur\", (evt) => this.validate(evt));\n      // elements[i].addEventListener(\"keyup\", (evt) => this.validate(evt));\n    }\n  }\n\n  validate(event) {\n    console.log(\"Validator.validate()\");\n  }\n\n  validateBefore(event) {\n    console.log(\"Validator.validateBefore()\");\n  }\n\n  validateAfter = (event) => {\n    console.log(\"Validator.validateAfter() isValid?\", this.isValid);\n    const $el = event.target;\n    if (!this.isValid) {\n      $el.classList.add(\"invalid\");\n      $el.parentElement.querySelector(\n        \".error-message\"\n      ).innerHTML = this.options.errorMessage;\n    } else {\n      $el.classList.remove(\"invalid\");\n      $el.parentElement.querySelector(\".error-message\").innerHTML = \"\";\n    }\n  };\n\n  showErrors = () => {\n    console.log(\"showing errors\");\n  };\n}\n"],"file":"validator.js"}